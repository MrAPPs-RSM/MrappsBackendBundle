$scope.{{ field.name }}_dpOpened = false;
$scope.{{ field.name }}_dpOpen = function ($event) {
    $event.preventDefault();
    $event.stopPropagation();
    $scope.{{ field.name }}_dpOpened = true;
};
$scope.{{ field.name }}_dpOptions = {
    startingDay: 1
};


$scope.{{ field.name }}_modelToView = function () {
    var date_{{ field.name }}_tzOffset = $scope.form.{{ field.name }}.getTimezoneOffset();
    var date_{{ field.name }}_newTs = $scope.form.{{ field.name }}.getTime()+(date_{{ field.name }}_tzOffset*60000);
    $scope.form.{{ field.name }}_view = new Date(date_{{ field.name }}_newTs);
}

$scope.{{ field.name }}_viewToModel = function () {
    var date_{{ field.name }}_tzOffset = $scope.form.{{ field.name }}_view.getTimezoneOffset();
    var date_{{ field.name }}_newTs = $scope.form.{{ field.name }}_view.getTime()-(date_{{ field.name }}_tzOffset*60000);
    $scope.form.{{ field.name }} = new Date(date_{{ field.name }}_newTs);
}


$scope.{{field.name}}_onChange = function() {
    $scope.{{ field.name }}_viewToModel();
};

$scope.form.{{ field.name }} = new Date('{{ field.value }}');
$scope.{{ field.name }}_modelToView();