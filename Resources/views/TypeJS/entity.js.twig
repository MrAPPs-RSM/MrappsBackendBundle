{# Table #}
$scope.{{field.name}}DataTable = [];
$scope.{{field.name}}RefreshTable = function() {
    $http.post('{{ field.data_url }}', {'origin':'table','form':$scope.form}).then(function (response) {
        $scope.{{field.name}}DataTable = response.data;
    });
};
$scope.{{field.name}}RefreshTable();

{# Select2 #}
setTimeout(function () {
    $scope.{{field.name}}Selected = {};
    $scope.{{field.name}}DataSelect = [];
    $scope.{{field.name}}RefreshSelect = function(q) {
        if(q.length > 0) {
            return $http.post('{{ field.data_url }}', {'origin':'select','form':$scope.form, 'q':q}).then(function (response) {
                $scope.{{field.name}}DataSelect = response.data;
            });
        }
        return true;
    };
    $scope.{{field.name}}SaveSelect = function() {
        console.log($scope.{{field.name}}Selected);
    };
}, 0);